"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5313,7106],{25313:(e,t,r)=>{r.d(t,{UNKNOWN_ICON:()=>i});let i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB0ElEQVR42u2ZVWLbQBiEp/K6DOpb+LF4ip47oCuULpAYH3uAlcbMNOZpm0lsizWz+/3CgEc9aiuFHz9/YYVIcjAAkODcYYDoTyPQHZse7m0E49tLkid/8rz4BuD7RgFIYpW+fvmMXStJEvz+/RuvXr1KG41mVhT5RiECRMUYsUuF0Nv18+fPcXp6ktbrjSzPhRBCDxxUpVKpG+Ls7DSt1eprhwjYWwAdJQD9EGftELV2iCiHCAQMAvT04sVznJ+fpdVqNcuj1hOBJj0wCvECFxcXaeWhIuEUYFADAGZCXF5dpg/3DxmA99YIZVmGRXr58lVqi1CMER8+fOh+pkUS5XIZd7d3ylEIViI5M7wCITqa1wOAtDVPKD1A45andC1ES/N6DZCuzKsIWZr3RoikMK4jZGleD2BsntDOA74tT0gIOZrXEfJmXiti24KleBi1M09SThBIU/P6mZiW5qEXMW3NUzuMGrc8NYRssSE0hFyZVxFyLVgdIcOW51oIWZqHfj9ga15+rOLb8lIRg47m9RoQ/R+eeb0GaGleR8i15XWEqL5VFIIJ87V5u70nvrm+AUF0/8nx4ZlxgOj+9KeTk+Oz8/rrYnIYBAoWeNSj9qwWS/T9vUU9j2EAAAAASUVORK5CYII="},27106:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var i=r(37876),s=r(14232),n=r(84788),l=r(39798),o=r(79052),u=r(14113),a=r(64148),c=r(81855),d=r(54239),p=r(25313),m=r(96438),h=r(65231),A=r(55295),g=r(42670),f=r(16361),b=r(60109),v=r(50980),j=r(97246);let x={icon:p.UNKNOWN_ICON},I=(0,s.memo)(({active:e,details:t,openApp:r,searchTerm:n,setActiveItem:l,url:p})=>{let{fs:I,readFile:E,stat:N}=(0,h.f)(),{updateRecentFiles:S}=(0,A.w)(),[C,O]=(0,s.useState)(),[w,R]=(0,s.useState)(x),M=(0,s.useMemo)(()=>(0,b.uQ)(w?.url||p),[w?.url,p]),D=(0,s.useMemo)(()=>(0,o.basename)(p,f.b3),[p]),U=(0,s.useMemo)(()=>{let e=D;try{e=e.replace(RegExp(`(${n})`,"i"),"<span>$1</span>")}catch{}return e},[D,n]),V=(0,s.useMemo)(()=>!!w?.url&&(0,b.t$)(w.url),[w?.url]),y=V?p:p||w?.url,F=(0,s.useMemo)(()=>C&&!C.isDirectory()?`Last modified: ${new Date((0,d.nR)(y,C)).toLocaleString(f.Xn,{dateStyle:"short",timeStyle:"short"})}`:"",[y,C]),[z,W]=(0,s.useState)(!1),Y=(0,s.useRef)(null),K=(0,v.K)(Y,".list"),k=(0,s.useMemo)(()=>!!w?.pid&&p===w.url&&(0,b.uQ)(p)===f.b3,[w?.pid,w?.url,p]),L=(0,s.useMemo)(()=>C?.isDirectory()||!M&&!V,[M,V,C]),Z=(0,s.useMemo)(()=>!!w?.url&&w.url.startsWith("nostr:"),[w?.url]),{onContextMenuCapture:B}=(e=>{let{contextMenu:t}=(0,a.b)(),{open:r}=(0,c.N)();return(0,s.useMemo)(()=>t?.(()=>[{SvgIcon:u.BG,action:()=>r("FileExplorer",{url:(0,o.dirname)(e)},""),label:"Open file location"}]),[t,r,e])})(w?.url),X=(0,s.useRef)(void 0);return(0,s.useEffect)(()=>{let e=t||z;!C&&e&&N(p).then(O),X.current?K||(X.current.abort(),X.current=void 0):(e||K)&&w===x&&(X.current=new AbortController,(0,m.cK)(I,p,X.current.signal).then(e=>{e&&R(e),X.current=void 0}))},[t,I,z,w,K,N,C,p]),(0,s.useEffect)(()=>()=>{try{X.current?.abort()}catch{}},[]),(0,i.jsxs)("li",{ref:Y,"aria-label":D,className:e?"active-item":void 0,onMouseOver:()=>!t&&W(!0),title:F?`${y}

${F}`:y,children:[(0,i.jsxs)("figure",{className:t?void 0:"simple",onClick:async()=>{r(w?.pid,k?void 0:{url:(0,o.extname)(y)===f.b3&&(0,d.getShortcutInfo)(await E(y))?.url||y}),y&&w?.pid&&S(y,w?.pid)},onContextMenuCapture:V||Z||k||L?void 0:B,children:[(0,i.jsx)(g.A,{displaySize:t?32:16,imgSize:t?32:16,src:w?.icon}),(0,i.jsx)(j.A,{alt:U,icon:w?.icon,imgSize:t?32:16,showShortcutIcon:!1,subIcons:w?.subIcons,view:"icon"}),(0,i.jsxs)("figcaption",{children:[(0,i.jsx)("h1",{dangerouslySetInnerHTML:{__html:U}}),t&&C&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:(0,m.$A)(C,M,V,k,Z)}),!V&&!k&&!L&&(0,i.jsx)("h2",{children:F})]})]})]}),!e&&(0,i.jsx)("div",{className:"select",onClick:()=>l(p),children:(0,i.jsx)(u.UU,{})})]})}),E=r(77232).Ay.figcaption.withConfig({componentId:"sc-7d9c1628-0"})(["font-size:13px;font-weight:600;padding-bottom:8px;padding-left:12px;padding-top:7px;&.disabled{pointer-events:none;user-select:none;}&:hover{background-color:rgb(60 60 60 / 95%);}"]),N=(0,s.memo)(({activeTab:e,activeItem:t,details:r,openApp:o,results:u,searchTerm:a,setActiveItem:c,changeTab:d,title:p})=>{let m=(0,s.useMemo)(()=>1===u.length&&u[0].ref===l.NO_RESULTS,[u]);return 0===u.length?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)("figure",{children:[(0,i.jsx)(E,{className:e===p||"Best match"===p?"disabled":void 0,onClick:()=>d?.(p),children:p}),(0,i.jsx)("ol",{children:m?(0,i.jsxs)("li",{className:"no-results",children:[(0,i.jsx)(n.Search,{}),"No results found for '",a,"'"]}):u.map(({ref:e})=>(0,i.jsx)(I,{active:t===e,details:r,openApp:o,searchTerm:a,setActiveItem:c,url:e},e))})]})})},96438:(e,t,r)=>{r.d(t,{$A:()=>a,V0:()=>u,cK:()=>o});var i=r(79052),s=r(54239),n=r(16361),l=r(60109);let o=async(e,t,r)=>{if(!e)return;let{subIcons:o,icon:u,pid:a=n.hr[0],url:c}=await new Promise(r=>{e.lstat(t,(i,n)=>{let o=!i&&!!n&&n.isDirectory(),u=(0,l.uQ)(t);u&&!o?(0,s.O6)(e,t,u,e=>r(e)):(0,s.qz)(e,e.getRootFS(),t,o,!1,e=>r(e),!1)})});if(r?.aborted)return;let d=(0,l.t$)(c);return{icon:await (0,s.$j)(e,(0,i.join)(d?n.zP:n.jv,`${d?new URL(c).pathname.replace("/",""):c}${n.V9}`))||u,pid:a,subIcons:o?.includes(n.N9)?o:[],url:c||t}},u=(e,t)=>{let r=0===e.value.length,i=()=>{Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value")?.set?.call(e,t),e.dispatchEvent(new Event("input",{bubbles:!0}))};i(),requestAnimationFrame(()=>r&&1===t.length&&2===e.value.length&&i())},a=(e,t,r,i,n)=>n?"Nostr URI":i?"App":r?"YouTube Video":e?.isDirectory()||!t?"File folder":(0,s.ti)(t)}}]);