"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2114,3576,4252,5858,7662],{12114:(e,t,a)=>{let r;a.r(t),a.d(t,{default:()=>en});var i=a(37876),n=a(14232),o=a(77232),s=a(40661);let l=o.Ay.div.withConfig({componentId:"sc-1bfe944-0"})(["height:100%;width:100%;.terminal{backdrop-filter:blur(8px);height:100% !important;}.xterm-viewport{",";width:100% !important;}.xterm-screen{.xterm-rows{.xterm-cursor-underline{border-bottom-color:#f3f3f3 !important;border-bottom-width:4px !important;}.xterm-cursor-blink{animation-duration:1.067s !important;}}}"],(0,s.A)());var c=a(79052),d=a(91372);let u={allowTransparency:!0,cols:70,cursorBlink:!0,cursorInactiveStyle:"none",cursorStyle:"underline",cursorWidth:8,fontFamily:"Consolas, Lucida Console, Courier New, monospace",fontSize:14,fontWeight:"100",rows:20,theme:{background:d.A.Terminal.backgroundColor,foreground:"rgb(204, 204, 204)"}},m=["lolcat"],w=["--help","-h","--version","-V"],b=["     ':lodxkkkOOOOOOOOOOOOkkkkkl","  .ckKNWMMMMMMMMMMMMMMMMMMMMMMMO"," .kWNK0OOKWMX0OOOOO0NMMMN000000d",".dKo,.   cNWo      .xMMWo       ",":x'      cWN:      .kMMWc       ","..       dMK,      '0MMX;       ","        .OMO.      ;XMM0,       ","        cNMx.      cNMMk.       ","       .OMMd       oMMMx.       ","      .xWMWc      .xMMMd        ","     .xWMMX;      .kMMMd        ","    'OWMMMO.      '0MMMO.     :o","   cKMMMMWo       '0MMMWk;..'l0c","  ;XMMMMM0,        oWMMMMWXXNNd.","  .kWMMW0;         .l0WMMMMNO:  ","   .lkkl.            .cxkkd:.   "],h=["https://cloudflare-dns.com/dns-query","1.1.1.1"],p=["https://dns.google/resolve","8.8.8.8"],f="/System/linux.bin";var g=a(45506);let y=async(e,t)=>{let{getQuickJS:r}=await a.e(7372,"high").then(a.bind(a,87372)),i=(await r()).newContext(),n=e=>{"string"==typeof e||"number"==typeof e?t(e.toString()):"object"==typeof e&&t(JSON.stringify(e))};if(!e)return;((e,t)=>{let a=e.newFunction("log",(...a)=>a.map(e.dump).forEach(t)),r=e.newObject();e.setProp(r,"error",a),e.setProp(r,"log",a),e.setProp(r,"warn",a),e.setProp(e.global,"console",r),r.dispose(),a.dispose()})(i,n),(e=>{e.setProp(e.global,"window",e.global)})(i);let o=i.evalCode(e);if(o.error){let{message:e,name:t,stack:a}=i.dump(o.error);n(`${t}: ${e}
${a}`),o.error.dispose()}else n(i.dump(o.value)),o.value.dispose()};var k=a(85904),A=a(60109),$=a(82909).Buffer;let v=[0,97,115,109],M=[4,37,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,97,116,111,109],x="https://registry.wapm.io/graphql",S=(e,t,a=!1)=>{let r=[...e],i=[...t],n=r.map((e,t)=>r.slice(t,t+i.length)),o=e=>e.every((e,t)=>e===i[t]),s=a?n.findLastIndex(e=>o(e)):n.findIndex(e=>o(e));return -1===s?a?e.length:0:s},j=async({args:[e]})=>{let t="";try{let a=await (await fetch(x,{body:JSON.stringify({query:`{
  getPackage(name: "${e}") {
    versions {
      distribution {
        piritaDownloadUrl
      }
    }
  }
}`}),headers:{"content-type":"application/json"},method:"POST"})).json();if(!(t=a?.data?.getPackage?.versions[0]?.distribution?.piritaDownloadUrl)){let a=await (await fetch(x,{body:JSON.stringify({operationName:"shellGetCommandQuery",query:`
    query shellGetCommandQuery($command: String!) {
      command: getCommand(name: $command) {
        module {
          publicUrl
        }
      }
    }
  `,variables:{command:e}}),headers:{"content-type":"application/json"},method:"POST"})).json();t=a?.data?.command?.module?.publicUrl}}catch{}let a=new Uint8Array;if(!t)return a;try{a=new Uint8Array(await (await fetch(t)).arrayBuffer())}catch{}return 0===a.length?new Uint8Array:a.subarray(S(a,new Uint8Array(v)),S(a,new Uint8Array(M),!0))},O=async(e,t,i,n,o)=>{let s="run"===e[0]?e.slice(1):e,{lowerI64Imports:l}=await a.e(7114,"high").then(a.bind(a,39409)),{default:d}=await Promise.all([a.e(6447,"high"),a.e(6094,"high")]).then(a.t.bind(a,46094,23));try{let e=n||await j({args:s});if(0===e.length||e.length<1024&&new TextDecoder().decode(e).includes("NoSuchKey"))throw Error(`command not found ${s[0]}`);let i=await l(e);if("object"==typeof i&&i instanceof Uint8Array){r||=(await a.e(9003,"high").then(a.t.bind(a,99003,23))).default;let l=await WebAssembly.compile(i),b=(m.includes(s[0])||".wasm"===(0,A.uQ)(s[0])&&m.includes((0,c.basename)(s[0],(0,c.extname)(s[0]))))&&("string"==typeof s[2]||!w.includes(s[1])),h=!1,p=!1,f=b?o?(0,g.RM)(o).slice(1):[]:s,y=new d({args:f,bindings:r,env:{COLUMNS:u.cols?.toString(),LINES:u.rows?.toString()},...b?{getStdin(){p&&(this.getStdin=null);let e=$.from(s.slice(f.length).join(" "),"utf8");return Object.assign(e,{copy:()=>h?0:(h=!0,e.length)})}}:{},sendStderr:e=>t(e.toString()),sendStdout:e=>{b&&(p=!0);let a=e.toString();t(b?(0,g.Jq)(a):a)}}),k=await WebAssembly.instantiate(l,y.getImports(l));try{y.start(k)}catch{}if(!n)return[s[0].split("/").slice(-1)[0],e]}}catch(a){let{code:e,message:t}=a;0===e||/^WASI Exit error: \d$/.test(t)||i(t)}return[]};var P=a(56422);let N={fullStdLib:!1,indexURL:"/Program Files/Pyodide/"},E=async(e,t)=>{if(await (0,A.aY)(["/Program Files/Pyodide/pyodide.js"]),!window.pyodide&&window.loadPyodide&&(window.pyodide=await window.loadPyodide(N)),window.pyodide){let a="ver"===e||"version"===e;try{e.includes("import micropip")&&await window.pyodide.loadPackage("micropip",{checkIntegrity:!1});let r=await window.pyodide.runPythonAsync(a?"import sys\r\nsys.version\r\n":"import sys\r\nimport io\r\nsys.stdout = io.StringIO()\r\n"+e);r||(r=await window.pyodide.runPythonAsync("sys.stdout.getvalue()")),r&&t(r.toString())}catch(a){let{message:e}=a;e&&t(e)}}};var F=a(67457),C=a(82050),D=a(54239),U=a(65231),L=a(35858),R=a(81855),B=a(55295),z=a(29804),T=a(16361),W=a(89490),I=a(87662),Q=a(11894),H=a(65927),V=a(93576),X=a(51304),J=a(82909).Buffer;let K="The system cannot find the file specified.",Z="The system cannot find the path specified.",q="The syntax of the command is incorrect.",{alias:Y}=T.sx;var _=a(60516);let{alias:G,author:ee,license:et}=T.sx,ea=`${et} License`,er=({containerRef:e,id:t,loading:r,setLoading:i,url:s})=>{let{url:l,processes:{[t]:{closing:m=!1,libs:w=[]}={}}}=(0,R.N)(),{readdir:$}=(0,U.f)(),[v,M]=(0,n.useState)(),[x,S]=(0,n.useState)(),[j,N]=(0,n.useState)(),et=(0,n.useRef)((j||!s||(0,c.extname)(s)?"":s)||T.yZ),[er,ei]=(0,n.useState)(""),[en,eo]=(0,n.useState)(!1),es=((e,t,r,i)=>{let{createPath:s,deletePath:l,exists:m,fs:w,lstat:$,mapFs:v,mkdirRecursive:M,readdir:x,readFile:S,rename:j,rootFs:N,stat:_,updateFolder:G,writeFile:ee}=(0,U.f)(),{closeWithTransition:et,open:er,title:ei}=(0,R.N)(),{setIconPositions:en,updateRecentFiles:eo}=(0,B.w)(),es=(0,z.w)(),{name:el}=(0,o.DP)(),ec=(0,n.useCallback)(async(e,a)=>{if(!e)return"";if(e.startsWith("ipfs://")){let t=await (0,Q.getIpfsResource)(e),r=(0,c.join)(T.Bn,await s(await (0,Q.getIpfsFileName)(e,t),a||T.Bn,t));return G(a||T.Bn,(0,c.basename)(r)),r}return(0,c.isAbsolute)(e)?e:(0,c.join)(t.current,e)},[t,s,G]),ed=(0,n.useRef)([]),eu=(0,n.useCallback)((e,t=!1)=>{let a=(0,c.dirname)(e);t?G(a,void 0,(0,c.basename)(e)):G(a,(0,c.basename)(e))},[G]),em=(0,n.useCallback)(async e=>(await x(T.sg)).find(t=>[".exe",".wasm"].includes((0,A.uQ)(t))&&(0,c.basename)(t,(0,c.extname)(t)).toLowerCase()===e.toLowerCase()),[x]),ew=(0,n.useCallback)(async(n="",o=i?.println.bind(i)||console.info,U=i?.print.bind(i)||console.info,R="")=>{let B=n.split("|");if(!R&&B.length>1){let e=[],t=t=>{e.push(t)};return B.reduce(async(a,r,i)=>{await a;let n=e.join("").replace(/\n$/,""),o=i===B.length-1,s=r.trim();return e.length=0,ew(`${s}${n?` ${n}`:""}`,o?void 0:e=>t(`${e}
`),o?void 0:t,s)},Promise.resolve(""))}let[z="",...Q]=(0,g.RM)(n,R),eb=z.toLowerCase();try{switch(eb){case"cat":case"type":{let[e]=Q;if(e){let t=await ec(e);await m(t)?(await $(t)).isDirectory()?o("Access is denied."):o((await S(t)).toString()):o(Z)}else o(q);break}case"cd":case"cd/":case"cd.":case"cd..":case"chdir":case"pwd":{let[e]=eb.startsWith("cd")&&eb.length>2?[eb.slice(2)]:Q;if(e&&"pwd"!==eb){let a=await ec(e),r=async e=>{(await $(e)).isDirectory()?t.current!==e&&(t.current=e):o("The directory name is invalid.")};if(await m(a))await r(a);else{let e=(await x(t.current)).find(e=>e.toLowerCase()===(0,c.basename)(a).toLowerCase());e?await r((0,c.join)(t.current,e)):o(Z)}}else o(t.current);break}case"color":{let[e,t,a]=Q;if("string"==typeof e&&"string"==typeof t&&"string"==typeof a)U((0,k.D)(Number(e),Number(t),Number(a)));else{let[[e,t]=[]]=Q,{rgb:a,name:r}=k.p[e?.toUpperCase()]||{},{rgb:i,name:n}=k.p[t?.toUpperCase()]||{};if(a){let e=!!i,t=(0,k.D)(...a,e);U(t),o(`${e?"Background":"Foreground"}: ${r}`),ed.current[0]=t}if(i){let e=(0,k.D)(...i);U(e),o(`Foreground: ${n}`),ed.current[1]=e}i||a||(U("\x1b[0m"),ed.current=[])}break}case"copy":case"cp":{let[e,t]=Q,a=await ec(e);if(await m(a))if(t){let e=await ec(t),r=(0,c.dirname)(e);eu((0,c.join)(r,await s((0,c.basename)(e),r,await S(a)))),o("	1 file(s) copied.")}else o("The file cannot be copied onto itself."),o("	0 file(s) copied.");else o(K);break}case"clear":case"cls":r?.reset(),r?.write(`\u001Bc${ed.current.join("")}`);break;case"date":o(`The current date is: ${(0,A.w0)().slice(0,10)}`);break;case"del":case"erase":case"rd":case"rm":case"rmdir":{let[e]=Q;if(e){let t=await ec(e);await m(t)&&((0,c.dirname)(t)===T.Bn&&(0,A.Rp)(en),await l(t)&&eu(t,!0))}break}case"dir":case"ls":{let[e=""]=Q,a=async t=>{let a=0,n=0,s=0,l=await x(t);0===l.length&&N?.mntMap[t]?.getName()==="FileSystemAccess"&&(await (0,L.requestPermission)(t),l=await x(t));let d=new Intl.DateTimeFormat(T.Xn,{timeStyle:"short"}),u=await Promise.all(l.filter(t=>(!e.startsWith("*")||t.endsWith(e.slice(1)))&&(!e.endsWith("*")||t.startsWith(e.slice(0,-1)))).map(async e=>{let r=(0,c.join)(t,e),i=await _(r),o=new Date((0,D.nR)(r,i)),l=(0,A.w0)(o.getTime()).slice(0,10),u=d.format(o).padStart(8,"0"),m=i.isDirectory();return a+=m?0:i.size,m?s+=1:n+=1,[`${l}  ${u}`,m?"<DIR>        ":i.size.toLocaleString(),e]}));o(` Directory of ${t}`),o("");let m=!i?._termSize?.cols||i?._termSize?.cols>52;(0,g.e4)([["Date",m?22:20],["Type/Size",m?15:13,!0,e=>"-1"===e?"":e],["Name",r?.cols?r.cols-40:30]],u,o,!0),o(`		${n} File(s)	${a.toLocaleString()} bytes`),o(`		${s} Dir(s)${await (0,g.N0)()}`)};if(!e||e.startsWith("*")||e.endsWith("*"))await a(t.current);else{let t=await ec(e);await m(t)?(await $(t)).isDirectory()?await a(t):o((0,c.basename)(t)):o("File Not Found")}break}case"echo":o(n.slice(n.indexOf(" ")+1));break;case"exit":case"quit":et(e);break;case"file":{let[e]=Q;if(e){let t=await ec(e);if(await m(t)){let{fileTypeFromBuffer:r}=await Promise.all([a.e(1071,"high"),a.e(4599,"high")]).then(a.bind(a,44599)),{mime:i="Unknown"}=await r(await S(t))||{};o(`${e}: ${i}`)}}break}case"find":case"search":{if(0===Q.length){o("FIND: Parameter format not correct");break}let e=await (0,H.od)(Q.join(" "),S,N);e?.forEach(({ref:e})=>o(e));break}case"ffmpeg":case"imagemagick":{let[e,t]=Q;if(e&&t){let a=await ec(e),r=(0,g.ID)(t);if(await m(a)&&!(await $(a)).isDirectory()){let e="ffmpeg"===eb?W.transcode:I.convert,[[t,i]=[]]=await e([[(0,c.basename)(a),await S(a)]],r,o);if(t&&i){let e=(0,c.dirname)(a);eu((0,c.join)(e,await s(t,e,i)))}}else o(K)}else o(q);break}case"git":case"isogit":w&&await (0,P.A)(Q,t.current,o,w,G);break;case"help":{let[e]=Q,t="-a"===e;if(e&&!t){let t=g.Pi[e]?e:Object.entries(g.z2).find(([,[t]])=>t===e)?.[0];t&&g.Pi[t]?o(g.Pi[t]):o("This command is not supported by the help utility.")}else(0,g.yj)(o,g.Pi,t?g.z2:void 0);break}case"history":i?.history.entries.forEach((e,t)=>o(`${(t+1).toString().padStart(4)} ${e}`));break;case"ipfs":{let[e,a]=Q;"get"===e&&a&&await ec(`ipfs://${a}`,t.current);break}case"ifconfig":case"ipconfig":case"whatsmyip":{let e=await (await fetch("https://cloudflare.com/cdn-cgi/trace")).text()||"",{ip:t=""}=Object.fromEntries(e.trim().split("\n").map(e=>e.split("="))||[]);o("IP Configuration"),o(""),o(`   IPv4 Address. . . . . . . . . . . : ${(e=>{let t=e.split(".");return 4===t.length&&t.map(Number).every(e=>e>0&&e<256)})(t)?t:"Unknown"}`);break}case"kill":case"taskkill":{let[e]=Q,t=Number.isNaN(e)||es.current[e]?e:Object.keys(es.current)[Number(e)];es.current[t]?(et(t),o(`SUCCESS: Sent termination signal to the process "${t}".`)):o(`ERROR: The process "${t}" not found.`);break}case"license":o(ea);break;case"md":case"mkdir":{let[e]=Q;if(e){let t=await ec(e);await M(t),eu(t)}break}case"mediainfo":{let[e]=Q;if(e){let t=await ec(e);if(await m(t))try{o(await (0,X.B)(await S(t)))}catch{o("Failed to parse media file")}}}break;case"mount":if((0,A.AQ)())try{let e=await v(t.current);if(e){let a=(0,c.join)(t.current,e);G(t.current,e),t.current=a}}catch{}else o("The system does not support the command.");break;case"move":case"mv":case"ren":case"rename":{let[e,t]=Q,a=await ec(e);if(await m(a))if(t){let e=await ec(t);["move","mv"].includes(eb)&&await m(e)&&(await $(e)).isDirectory()&&(e=(0,c.join)(e,(0,c.basename)(a))),(0,c.dirname)(a)===T.Bn&&(0,A.Rp)(en),await j(a,e)&&(eu(a,!0),eu(e))}else o(q);else o(K);break}case"neofetch":case"systeminfo":{await (0,A.aY)(["/Program Files/Xterm.js/ua-parser.js"]);let{browser:e,cpu:t,engine:a,gpu:i,os:n}=new window.UAParser().getResult()||{},{cols:s,options:l}=r||{},c=`public@${window.location.hostname}`,m=(l?.fontFamily||u.fontFamily)?.split(", ").find(e=>document.fonts.check(`${l?.fontSize||u.fontSize||12}px ${e}`)),{quota:w=0,usage:h=0}=await navigator.storage?.estimate?.()||{},p=e=>`${(0,k.D)(...k.p[3].rgb)}${e}${ed.current?.[0]||(0,k.D)(...k.p[7].rgb)}`,f=[c,Array.from({length:c.length}).fill("-").join(""),`OS: ${Y} ${(0,A.ZJ)()}`];n?.name&&f.push(`Host: ${n.name}${n?.version?` ${n.version}`:""}${t?.architecture?` ${t?.architecture}`:""}`),e?.name&&f.push(`Kernel: ${e.name}${e?.version?` ${e.version}`:""}${a?.name?` (${a.name})`:""}`),f.push(`Uptime: ${(0,g.Lw)(!0)}`,`Packages: ${Object.entries(d.A).filter(([,{dialogProcess:e}])=>!e).length}`),window.screen?.width&&window.screen?.height&&f.push(`Resolution: ${window.screen.width}x${window.screen.height}`),f.push(`Theme: ${el}`),m&&f.push(`Terminal Font: ${m}`),i?.vendor?f.push(`GPU: ${i.vendor}${i?.model?` ${i.model}`:""}`):i?.model&&f.push(`GPU: ${i.model}`),window.performance&&"memory"in window.performance&&f.push(`Memory: ${(window.performance.memory.totalJSHeapSize/1024/1024).toFixed(0)}MB / ${(window.performance.memory.jsHeapSizeLimit/1024/1024).toFixed(0)}MB`),w&&f.push(`Disk (/): ${(h/1024/1024/1024).toFixed(0)}G / ${(w/1024/1024/1024).toFixed(0)}G (${(h/w*100).toFixed(2)}%)`);let y=f.reduce((e,t)=>Math.max(e,t.length),0),$=s||u.cols||70,v=b[0].length+y,M=Math.max(Math.min($-v,3),1);f.push("\n",[0,4,2,6,1,5,3,7].map(e=>(0,g.BZ)(e,ed.current)).join(""),[8,"C","A","E",9,"D","B","F"].map(e=>(0,g.BZ)(e,ed.current)).join("")),b.forEach((e,t)=>{let a=f[t]||"";if(0===t){let[e,t]=a.split("@");a=`${p(e)}@${p(t)}`}else{let[e,t]=a.split(":");t&&(a=`${p(e)}:${t}`)}o(`${p(e)}${a.padStart(a.length+M," ")||""}`)});break}case"nslookup":{let[e]=Q;if(e){let t,a=async(e,t=h[0])=>{let{Answer:a=[]}=await (await fetch(`${t}?name=${e}`,{headers:{Accept:"application/dns-json"}})).json();return a},r=!1;try{t=await a(e)}catch{try{r=!0,t=await a(e,p[0])}catch{}}if(t){let[a,i]=r?p:h,{host:n}=new URL(a);o(`Server:  ${n}`),o(`Address:  ${i}`),o(""),o("Non-authoritative answer:"),o(`Name:    ${e}`),o(`Addresses:  ${t.map(({data:e})=>e).join("\n          ")}`),o("")}else o("Failed to contact name servers.")}break}case"sheep":case"esheep":{let{countSheep:e,killSheep:t,spawnSheep:r}=await Promise.resolve().then(a.bind(a,57970)),[i=1,n=0]=Q;if(!Number.isNaN(i)&&!Number.isNaN(n)){i=Number(i),n=Number(n),i>1&&(await r(),i-=1);let a=(n||+(i>1))*T.iC;Array.from({length:0===i?e():i}).fill(0).map(()=>Math.floor(Math.random()*a)).forEach(e=>setTimeout(0===i?t:r,e))}break}case"ps":case"tasklist":(0,g.e4)([["Image Name",25],["PID",8],["Title",16]],Object.entries(es.current).map(([e,{title:t}],a)=>[e,a.toString(),t]),o);break;case"py":case"python":case"python3":{let[e]=Q,t=await ec(e);if(await m(t)){let e=await S(t);e.length>0&&await E(e.toString(),o)}else{let[,e="version"]=n.split(" ");await E(e,o)}}break;case"qjs":case"quickjs":case"node":{let[e]=Q,t=await ec(e);if(await m(t)){let e=await S(t);e.length>0&&await y(e.toString(),o)}else{let[,e]=n.split(" ");await y(e,o)}}break;case"logout":case"restart":case"shutdown":(0,L.resetStorage)(N).finally(()=>window.location.reload());break;case"time":o(`The current time is: ${(0,A.w0)().slice(11,22)}`);break;case"title":ei(e,n.slice(n.indexOf(" ")+1));break;case"touch":{let[e]=Q;if(e){let t=await ec(e),a=(0,c.dirname)(t);eu((0,c.join)(a,await s((0,c.basename)(t),a,J.from(""))))}break}case"uptime":o(`Uptime: ${(0,g.Lw)()}`);break;case"ver":case"version":o((0,A.ZJ)());break;case"wapm":case"wasmer":case"wax":{let[e]=Q,t=await ec(e),[a,r]=await O(Q,U,o,t.endsWith(".wasm")&&await m(t)?await S(t):void 0,R);a&&r&&ee((0,c.join)(T.sg,`${a}.wasm`),J.from(r),!0);break}case"weather":case"wttr":{let e=await fetch("https://wttr.in/?1nAF",T.c9);o(await e.text());let[t,a]=ed.current;t&&U(t),a&&U(a);break}case"whoami":o(`${window.location.hostname}\\public`);break;case"wsl":case"linux":er("V86",{url:f}),eo(f,"V86");break;case"xlsx":{let[e,t="xlsx"]=Q;if(e&&t){let a=await ec(e),r=(0,g.ID)(t);if(await m(a)&&!(await $(a)).isDirectory()){let t=await (0,V.convertSheet)(await S(a),r),i=(0,c.dirname)(a);eu((0,c.join)(i,await s(`${(0,c.basename)(e,(0,c.extname)(e))}.${r}`,i,J.from(t))))}else o(K)}else o(q);break}default:if(z){let[e]=Object.entries(d.A).filter(([,{dialogProcess:e}])=>!e).find(([e])=>e.toLowerCase()===eb)||[F.resourceAliasMap[eb]];if(e){let[t]=Q,a=await ec(t),r=t&&a&&await m(a)?a:"";er(e,{url:r}),r&&eo(r,e)}else{let e=await m(z);if(e||await m((0,c.join)(t.current,z))){let a=(0,A.uQ)(z),{command:r=""}=C.A[a]||{};if(r){let e=`${r} ${z.includes(" ")?`"${z}"`:z}`;await ew(`${e}${Q.length>0?` ${Q.join(" ")}`:""}`,o,U,R?e.replace(z,R):void 0)}else{let r=e?z:(0,c.join)(t.current,z),i="",n=r;a===T.b3?{pid:i,url:n}=(0,D.getShortcutInfo)(await S(r)):i=(0,D.YD)(a),i?(er(i,{url:n}),n&&eo(n,i)):o((0,g.k8)(z))}}else{let e=await em(z);if(e){let t=`${T.sg}/${e}`;await ew(`${t}${Q.length>0?` ${Q.join(" ")}`:""}`,o,U,R?.replace(z,t))}else o((0,g.k8)(z))}}}}}catch{o("An error occurred while attempting to execute the command")}return i&&x(t.current).then(e=>(0,g.DV)(e,i)),t.current},[t,ei,et,s,l,m,em,w,ec,e,i,$,v,M,er,es,S,x,j,N,en,_,r,el,eu,G,eo,ee]),eb=(0,n.useRef)(ew);return(0,n.useEffect)(()=>{eb.current=ew},[ew]),eb})(t,et,v,j),el=(0,n.useCallback)(()=>x?.fit(),[x]),{foregroundId:ec}=(0,B.w)();(0,n.useEffect)(()=>{if(s){if(j)j.handleCursorInsert(s.includes(" ")?`"${s}"`:s);else{let e=(0,A.uQ)(s),{command:t=""}=C.A[e]||{};t&&ei(`${t} ${s.includes(" ")?`"${s}"`:s}`)}l(t,"")}},[t,j,l,s]),(0,n.useEffect)(()=>{(0,A.aY)(w).then(()=>{window.Terminal&&M(new window.Terminal(u))})},[w]),(0,n.useEffect)(()=>{if(v&&r&&e.current&&window.FitAddon&&window.LocalEchoController){let t=new window.FitAddon.FitAddon,a=new window.LocalEchoController(void 0,{historySize:1e3});v.loadAddon(a),v.loadAddon(t),v.open(e.current),t.fit(),S(t),N(a),e.current.addEventListener("contextmenu",e=>{(0,A.CH)(e);let t=v.getSelection();t?(navigator.clipboard?.writeText(t),v.clearSelection()):(0,g._2)(a)}),e.current?.closest("section")?.addEventListener("focus",()=>v?.textarea?.focus(T.VD),{passive:!0}),i(!1)}return()=>{v&&m&&v.dispose()}},[m,e,r,i,v]),(0,n.useEffect)(()=>{let e;return v&&j&&(v.textarea?.setAttribute("enterkeyhint","send"),e=v.onKey(({domEvent:{ctrlKey:e,code:t}})=>{e&&"KeyV"===t&&(0,g._2)(j)})),()=>e?.dispose()},[j,v]),(0,n.useEffect)(()=>{if(j&&v&&!en){let e=()=>j.read(`\r
${et.current}>`).then(t=>es.current?.(t).then(e));j.println(`${G} [Version ${(0,A.ZJ)()}]`),j.println(`By ${ee.name}. ${ea}.`),er?(j.println(`\r
${et.current}>${er}\r
`),j.history.entries=[er],es.current(er).then(e)):e(),eo(!0),v.focus(),el(),$(et.current).then(e=>(0,g.DV)(e,j))}},[el,er,j,es,en,$,v]),(0,n.useLayoutEffect)(()=>{t!==ec||r||v?.textarea?.focus(T.VD)},[ec,t,r,v]),(0,_.A)(e.current,el)};var ei=a(35144);let en=(0,n.memo)(({id:e})=>(0,i.jsx)(ei.A,{StyledComponent:l,id:e,useHook:er}))},35144:(e,t,a)=>{a.d(t,{A:()=>d});var r=a(37876),i=a(14232),n=a(77232),o=a(66501),s=a(78011),l=a(81855);let c=n.Ay.div.withConfig({componentId:"sc-e37924df-0"})([""]),d=(0,i.memo)(({id:e,useHook:t,StyledComponent:a,children:n})=>{let{processes:{[e]:{url:d=""}={}}}=(0,l.N)(),u=(0,i.useRef)(null),[m,w]=(0,i.useState)(!0),b=(0,i.useMemo)(()=>({contain:"strict",visibility:m?"hidden":"visible"}),[m]);return t({containerRef:u,id:e,loading:m,setLoading:w,url:d}),(0,r.jsxs)(r.Fragment,{children:[m&&(0,r.jsx)(o.A,{}),(0,r.jsx)(a||c,{ref:u,style:b,...(0,s.A)({id:e}),children:n})]})})},35858:(e,t,a)=>{a.r(t),a.d(t,{addFileSystemHandle:()=>l,removeFileSystemHandle:()=>c,requestPermission:()=>d,resetStorage:()=>u});var r=a(79052),i=a(16361),n=a(30690);let o=["/classicube","/data/saves","ejs-bios","ejs-roms","ejs-romsdata","ejs-states","ejs-system","js-dos-cache (emulators-ui-saves)","keyval-store"],s=new Map,l=async(e,t,a,o)=>{if(!await (0,n.Su)())return;let l=await (0,n.Uc)(),c=(0,r.join)(e,a);try{await l.put(n.V0,{...await (0,n.zc)(),[c]:t},i.gq),o&&s.set(c,o)}catch{}},c=async e=>{if(!await (0,n.Su)())return;let{[e]:t,...a}=await (0,n.zc)(),r=await (0,n.Uc)();try{await r.put(n.V0,a,i.gq),s.get(e)?.disconnect(),s.delete(e)}catch{}},d=async e=>{let t=(await (0,n.zc)())[e];if(t){let e=await t.queryPermission();if("prompt"===e)await t.requestPermission();else if("granted"===e)throw Error("Permission already granted");return t.queryPermission()}return!1},u=e=>new Promise((t,r)=>{setTimeout(r,750),window.localStorage.clear(),window.sessionStorage.clear();let i=()=>{let a=e?._getFs("/")?.fs,i=a?.getOverlayedFileSystems(),n=i?.readable,o=i?.writable;n?.empty(),o?.getName()!=="InMemory"&&o?.empty?o.empty(e=>e?r(e):t()):t()};window.indexedDB?a.e(9523,"high").then(a.bind(a,99523)).then(({deleteDB:e})=>{window.indexedDB.databases?window.indexedDB.databases().then(t=>t.filter(({name:e})=>e&&"browserfs"!==e).forEach(({name:t})=>e(t))).then(i).catch(i):(o.forEach(t=>e(t)),i())}):i()})},40661:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(77232),i=a(16361);let n={dark:{active:"rgb(166, 166, 166)",blendMode:"color-burn",buttonHover:"rgb(55, 55, 55)",thumb:"rgb(77, 77, 77)",thumbHover:"rgb(122, 122, 122)",track:"rgb(23, 23, 23)"},light:{active:"rgb(96, 96, 96)",blendMode:"color-dodge",buttonHover:"rgb(218, 218, 218)",thumb:"rgb(205, 205, 205)",thumbHover:"rgb(166, 166, 166)",track:"rgb(240, 240, 240)"}},o=(e=i.Gm,t=0,a=0,o="dark")=>(0,r.AH)(["overflow:auto;scrollbar-gutter:stable;@supports not selector(::-webkit-scrollbar){scrollbar-color:"," ",";}&::-webkit-scrollbar{height:","px;width:","px;}&::-webkit-scrollbar-corner,&::-webkit-scrollbar-track{background-color:",";}&::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:",";}&::-webkit-scrollbar-thumb:vertical{background-clip:padding-box;background-color:",";border-left:1px solid transparent;border-right:1px solid transparent;}&::-webkit-scrollbar-thumb:horizontal{border-bottom:1px solid transparent;border-top:1px solid transparent;}&::-webkit-scrollbar-thumb:hover{background-color:",";}&::-webkit-scrollbar-thumb:active{background-color:",";}&::-webkit-scrollbar-button:single-button{background-clip:padding-box;background-color:",";background-position:center 4px;background-repeat:no-repeat;background-size:10px;border:1px solid ",";display:block;height:",";&:hover{background-color:",";}&:active{background-color:",";}}&::-webkit-scrollbar-button:single-button:vertical:decrement,&::-webkit-scrollbar-button:single-button:vertical:increment{background-position-x:",";background-position-y:",";background-size:16px;border-bottom:0;border-top:0;image-rendering:pixelated;}&::-webkit-scrollbar-button:single-button:vertical:decrement{background-image:url(",");}&::-webkit-scrollbar-button:single-button:vertical:increment{background-image:url(",");}&::-webkit-scrollbar-button:single-button:horizontal:decrement,&::-webkit-scrollbar-button:single-button:horizontal:increment{background-position:center;background-size:16px;border-left:0;border-right:0;image-rendering:pixelated;}&::-webkit-scrollbar-button:single-button:horizontal:decrement{background-image:url(",");}&::-webkit-scrollbar-button:single-button:horizontal:increment{background-image:url(",");}&::-webkit-scrollbar-button:single-button:vertical:decrement:active,&::-webkit-scrollbar-button:single-button:vertical:increment:active,&::-webkit-scrollbar-button:single-button:horizontal:decrement:active,&::-webkit-scrollbar-button:single-button:horizontal:increment:active{background-blend-mode:",";}"],n[o].thumb,n[o].track,e,e,n[o].track,n[o].thumb,n[o].thumb,n[o].thumbHover,n[o].active,n[o].track,n[o].track,e?`${e}px`:"initial",n[o].buttonHover,n[o].active,0===t?"center":`${t}px`,0===a?"center":`${a}px`,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAKElEQVR42mOgMRgF6enp/ynSDMMUaEZgsjST5RJsikk2AKc4bcAoAADI7y5FsB5j/QAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAK0lEQVR42mOgARgF6enp/0kRZ8KvGMEnyQUwjMwn0xBMzWQZQlmA0h6MAgAuqCnfdOk/ZQAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAG0lEQVR42mPAD0ZBenr6fxge4ppHuiGEwSgAAGJiLkXUVlYDAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAG0lEQVR42mPADkZBenr6fxgeZoYMV82Ug1EAAPiTLkWjutmQAAAAAElFTkSuQmCC",n[o].blendMode)},51304:(e,t,a)=>{a.d(t,{B:()=>i,F:()=>n});let r=async e=>{let{default:t}=await Promise.all([a.e(1412,"high"),a.e(6442,"high")]).then(a.bind(a,81412));return t({format:e,locateFile:e=>`System/mediainfo.js/${e}`})},i=async e=>(await r("text")).analyzeData(()=>e.length,()=>e),n=async e=>(await (await r("object")).analyzeData(()=>e.length,()=>e)).media},60516:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(14232);let i=(e,t)=>{let[a,i]=(0,r.useState)();(0,r.useEffect)(()=>{t&&i(new ResizeObserver(t))},[t]),(0,r.useEffect)(()=>(e instanceof HTMLElement&&a?.observe(e),()=>{e instanceof HTMLElement&&a?.unobserve(e)}),[e,a])}},65927:(e,t,a)=>{a.d(t,{iu:()=>c,Le:()=>u,xc:()=>d,od:()=>p,SQ:()=>f});var r=a(79052),i=a(14232),n=a(65231);let o=JSON.parse('{"X":[".cache",".json"],"P":[".md",".txt",".whtml"]}');var s=a(16361),l=a(60109);let c="/.index/search.lunr.json",d="/System/lunr/lunr.min.js",u={"aria-label":"Search",enterKeyHint:"search",inputMode:"search",name:"search",type:"search",...s.m8},m=Object.create(null),w=[],b=async(e,t)=>{if(window.lunr||await (0,l.aY)([d]),!t&&!m?.search){let e=await fetch(c,s.c9);try{let{paths:t,...a}=JSON.parse(await e.text());m=window.lunr?.Index.load(a),w=t}catch{}}let a=t??m,r=[],i=e.trim().replace(/\./g," ").replace(/\*~\^-\+/g,"");try{r=a.search?.(i),r?.length===0&&(r=a.search?.(`${i.split(" ").join("* ")}*`))}catch{}return r?r.map(e=>({...e,ref:(Object.prototype.hasOwnProperty.call(w,e.ref)?w[e.ref]:e.ref)||""})):[]},h=async(e,t)=>{let a=t?._getFs("/")?.fs,i=a?.getOverlayedFileSystems(),n=i?.writable,s=("function"==typeof n?._cache?.map?.keys&&[...n._cache.map.keys()]||Object.keys(n?._cache?.map||{})||[]).filter(e=>{let t=(0,l.uQ)(e);return!!t&&!o.X.includes(t)}),c=await Promise.all(s.map(async t=>{let a=(0,r.basename)(t,(0,r.extname)(t));return{name:a,path:t,text:o.P.includes((0,l.uQ)(t))?`${a} ${(await e(t)).toString()}`:a}})),d=window.lunr?.(function(){this.ref("path"),this.field("name"),this.field("text"),c.forEach(e=>this.add(e))});return window.lunr?.Index.load(d.toJSON())},p=async(e,t,a)=>{let r=await b(e),i=await h(t,a);return[...r,...await b(e,i)].sort((e,t)=>t.score-e.score)},f=e=>{let[t,a]=(0,i.useState)([]),{readFile:r,rootFs:o}=(0,n.f)();return(0,i.useEffect)(()=>{(async()=>{e.length>0?(window.lunr||await (0,l.aY)([d]),b(e).then(a),h(r,o).then(t=>b(e,t).then(e=>a(t=>[...t,...e].sort((e,t)=>t.score-e.score))))):a([])})()},[r,o,e]),t}},66501:(e,t,a)=>{a.d(t,{A:()=>r});let r=a(77232).Ay.div.withConfig({componentId:"sc-83f4cbe3-0"})(['cursor:wait;height:100%;width:100%;&::before{color:#fff;content:"Working on it...";display:flex;font-size:12px;font-weight:200;justify-content:center;letter-spacing:0.3px;mix-blend-mode:difference;padding-top:',"px;}"],({$hasColumns:e,theme:t})=>e?t.sizes.window.textTopPadding+t.sizes.fileManager.columnHeight:t.sizes.window.textTopPadding)},87662:(e,t,a)=>{a.r(t),a.d(t,{convert:()=>n});var r=a(79052),i=a(60109);let n=async(e,t,a)=>{let n=[];await (0,i.aY)(["/System/imagemagick/wasm-imagemagick.umd-es5.min.js"],!1,!0);let{call:o}=window["wasm-imagemagick"]||{};return o&&await Promise.all(e.map(async([e,s])=>{let l=(0,r.basename)(e),c=`${(0,r.basename)(e,(0,r.extname)(e))}.${t}`,{outputFiles:[d]=[],stderr:u,stdout:m}=await o([{content:s,name:l}],["convert",l,"-verbose",c]),w=[...m,...u].join("\n");w&&a?.(w),n.push([(0,r.join)((0,r.dirname)(e),c),await (0,i.Z6)(d?.blob)])})),n}},89490:(e,t,a)=>{a.r(t),a.d(t,{getFFmpeg:()=>o,transcode:()=>s});var r=a(79052),i=a(60109),n=a(82909).Buffer;let o=async(e=console.info)=>{let{FFmpeg:t}=await a.e(3114,"high").then(a.bind(a,53114)),r=new t;return r.on("log",({message:t})=>e(t)),await r.load({coreURL:URL.createObjectURL(await (0,i.sZ)("/System/ffmpeg/ffmpeg-core.js")),wasmURL:URL.createObjectURL(await (0,i.sZ)("/System/ffmpeg/ffmpeg-core.wasm"))}),r},s=async(e,t,a)=>{let i=await o(a),s=[];return await Promise.all(e.map(async([e,a])=>{let o=(0,r.basename)(e),l=`${(0,r.basename)(e,(0,r.extname)(e))}.${t}`;await i.writeFile(o,a),await i.exec(["-i",o,l]),s.push([(0,r.join)((0,r.dirname)(e),l),n.from(await i.readFile(l))])})),s}},93576:(e,t,a)=>{a.d(t,{convertSheet:()=>o});var r=a(60109),i=a(82909).Buffer;let n=async()=>(window.XLSX||await (0,r.aY)(["/System/SheetJS/xlsx.full.min.js"]),window.XLSX),o=async(e,t)=>{let a,o=await n();if("numbers"===t){if(await (0,r.aY)(["/System/SheetJS/xlsx.zahl.js"]),!window.XLSX_ZAHL_PAYLOAD)return i.from("");a=window.XLSX_ZAHL_PAYLOAD}return o.write(o.read(e),{bookType:t,numbers:a,type:"buffer"})}}}]);