"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[386],{2435:(e,t,r)=>{r.d(t,{A:()=>l});var i=r(14232),o=r(81855),n=r(91372),a=r(16361);let l=e=>{let{title:t}=(0,o.N)(),[r]=(0,i.useMemo)(()=>e.split(a.QB),[e]),{title:l}=n.A[r]||{};return{appendFileToTitle:(0,i.useCallback)((r,i)=>{let o=r?` - ${r}${i?` ${a.g6}`:""}`:"";t(e,`${l}${o}`)},[e,l,t]),prependFileToTitle:(0,i.useCallback)((r,i,o)=>{let n=r?`${i?`${a.g6} `:""}${r}${o?" ":" - "}`:"";t(e,`${n}${l}`)},[e,l,t])}}},20386:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var i=r(37876),o=r(14232);let n=r(77232).Ay.div.withConfig({componentId:"sc-87f6532d-0"})(['display:flex;height:100%;width:100%;.video-js{height:100%;width:100%;.vjs-big-play-button{display:none;}.vjs-control-bar{background-color:rgb(240 240 240);padding:0 1px;z-index:9999;&:not(.no-interaction){display:flex !important;opacity:100% !important;}.no-interaction{display:none !important;opacity:0% !important;pointer-events:none !important;}}&.vjs-youtube,&.vjs-fullscreen.vjs-user-inactive{.vjs-control-bar{opacity:0% !important;}}.vjs-button{color:rgb(116 116 116);height:28px;position:relative;width:28px;z-index:0;&::after{background-color:rgb(225 225 225);border:1px solid rgb(173 173 173);content:"";height:calc(100% - 4px);left:0;margin:2px 0 0 2px;position:absolute;top:1px;width:calc(100% - 4px);z-index:-1;}&:hover{&::after{background-color:rgb(229 241 251);border-color:rgb(0 120 215);}}&:active{&::after{background-color:rgb(204 228 247);border-color:rgb(0 84 153);}}}.vjs-current-time,.vjs-duration{display:block;}.vjs-current-time{padding-left:8px;padding-right:2px;}.vjs-duration{padding-left:2px;padding-right:8px;}.vjs-current-time-display,.vjs-duration-display{color:#000;font-family:sans-serif;font-size:11px;}.vjs-picture-in-picture-control{margin:0 -2px;}.vjs-load-progress{border-radius:5px;div{background:linear-gradient( 180deg,rgb(189 189 189) 0%,rgb(219 219 219) 100% );border-radius:5px;}}.vjs-play-progress{background:linear-gradient( 180deg,rgb(44 137 224) 0%,rgb(40 125 204) 100% );border-radius:5px;&::before{color:rgb(237 237 237);text-shadow:1px 2px 3px rgb(160 160 160);-webkit-text-stroke:1px rgb(164 164 164 / 80%);top:1px;}}.vjs-progress-holder{border-radius:5px;font-size:1.7em !important;height:9px;}.vjs-volume-control{background-color:rgb(240 240 240);border-radius:5px 5px 0 0;left:-28px !important;position:relative;.vjs-volume-bar{height:5.5em;margin:1.5em auto;}.vjs-volume-level{background:linear-gradient( 180deg,rgb(247 76 100) 0%,rgb(125 210 125) 50% );border-radius:5px;color:rgb(237 237 237);font-size:1.5em;text-shadow:1px 2px 3px rgb(160 160 160);-webkit-text-stroke:1px rgb(164 164 164 / 80%);}}.vjs-volume-panel{width:28px !important;}.vjs-fullscreen-control,.vjs-play-control{.vjs-icon-placeholder{&::before{font-size:2.4em;top:-5px;}}&.vjs-ended{.vjs-icon-placeholder{&::before{font-size:2.3em;top:-3px;}}}}.vjs-poster{background-size:contain;}video{background-image:url("/System/Icons/48x48/vlc.webp");background-position:center calc(50% - 15px);background-repeat:no-repeat;padding-bottom:',"px;}}canvas{height:calc(100% - ","px);object-fit:contain;position:absolute;visibility:hidden;width:100%;}"],30,30);var a=r(79052),l=r(16361);let s="video/youtube",c={1:4,2:2,3:1,4:.5},d={autoplay:!0,controlBar:{children:["playToggle","currentTimeDisplay","progressControl","durationDisplay","volumePanel","pictureInPictureToggle","fullscreenToggle"],volumePanel:{inline:!1}},inactivityTimeout:l.iC,preload:"auto",youtube:{enablePrivacyEnhancedMode:!0,ytControls:2}},p=[360,640],u=[480,854],g={auto:p,hd1080:[1080,1920],hd1440:[1440,2560],hd2160:[2160,3840],hd720:[720,1280],highres:u,large:u,medium:p,small:[240,426],tiny:[144,256]};var h=r(2435),b=r(67718),m=r(65231),f=r(81855),v=r(60109),x=r(54239);let y=({containerRef:e,id:t,loading:r,setLoading:i,url:n})=>{let{addFile:u,createPath:y,readFile:w,updateFolder:k}=(0,m.f)(),{argument:j,linkElement:T,processes:{[t]:{closing:B=!1,componentWindow:A,libs:E=[]}={}},url:C}=(0,f.N)(),{updateWindowSize:z}=(0,b.A)(t),[M,R]=(0,o.useState)(),[P,L]=(0,o.useState)(),{prependFileToTitle:$}=(0,h.A)(t),H=(0,o.useCallback)(()=>{let{src:e=[]}=M?.getMedia()||{};if(Array.isArray(e)&&e.length>0){let[{src:t,url:r}]=e;t.startsWith("blob:")&&(r!==n||B)&&(0,v.E)(t)}},[B,M,n]),N=(0,o.useMemo)(()=>(0,v.t$)(n),[n]),_=(0,o.useCallback)(async()=>{H();let e=N?s:(0,v.hH)(n)||l.dU;e.startsWith("audio")&&(e=l.dU);let t=N?void 0:await w(n),r=N?n:(0,v.Zd)(t,(0,v.nr)()?e:void 0);return{buffer:t,src:r,type:e,url:n}},[H,N,w,n]),D=(0,o.useRef)(!1),S=(0,o.useRef)(!1),I=(0,o.useRef)(void 0),W=(0,o.useRef)(""),F=(0,o.useCallback)((r,i)=>{r||I.current?.exit?.();let o=e.current?.querySelector("video"),n=e.current?.querySelector("canvas");o&&(o.style.visibility=r?"hidden":"visible"),n&&(n.style.visibility=r?"visible":"hidden"),i&&(i.reset(),r?(i.controlBar.playToggle.hide(),i.controlBar.pictureInPictureToggle.hide(),i.controlBar.fullscreenToggle.hide()):(i.controlBar.playToggle.show(),i.controlBar.pictureInPictureToggle.show(),i.controlBar.fullscreenToggle.show()),j(t,"play",!r&&(()=>i.play())),j(t,"pause",!r&&(()=>i.pause()))),T(t,"peekElement",r?n:N?e.current:o)},[j,e,t,N,T]),O=(0,o.useCallback)(()=>{if(S.current)return;S.current=!0;let[r,o]=e.current?.childNodes??[],s=window.videojs(r,d,()=>{s.on(N?"play":"canplay",()=>{if(D.current)return;D.current=!0;let{ytPlayer:e}=s.tech_||{};e&&L(e);let[t,r]=e?g[e.getPlaybackQuality()]||p:[s.videoHeight(),s.videoWidth()],[i,o]=[(0,v.Bv)(),(0,v.e8)()];if(t&&r){let n=t+30*!e;n>i||r>o?z(Math.floor(n/r*o),Math.min(r,o)):z(n,r)}});let d=()=>{try{s.isFullscreen()?s.exitFullscreen():s.requestFullscreen()}catch{}},h=()=>{let{playToggle:e}=s.controlBar,r=()=>{let i=()=>e.off("click",r);if(s.currentSrc())return void i();u(l.Bn,async(e,r)=>{i();let o=await y(e,l.Bn,r);return C(t,(0,a.join)(l.Bn,o)),k(l.Bn,o),o},"audio/*,video/*,.mkv",!1)};e.on("click",r)},b=async({target:e,type:t}={})=>{let r=e?.player.error();if(W.current!==n&&"error"===t&&[MediaError.MEDIA_ERR_DECODE,MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED].includes(r?.code)){F(!0,e?.player),await (0,v.aY)(["/Program Files/Video.js/codecbox.js/codecbox_init.js"],!1,!0);let{buffer:t}=await _();I.current=window.initCodecBox?.({canvas:o,file:new File([t],(0,a.basename)(n)),onDecoding:t=>{Number.isNaN(t)||(e?.player?.tech_?.stopTrackingCurrentTime(),e?.player?.tech_?.setCurrentTime(t))},onError:()=>{W.current=n,F(!1,e?.player),r&&e?.player?.error(r)},onPlay:({duration:t})=>{e?.player?.duration(t),e?.player?.trigger("play"),e?.player?.trigger("playing"),requestAnimationFrame(()=>{let{height:e,width:t}=o;z(e+30,t)})}})}else h()};s.on("error",b),s.on("volumechange",()=>I.current?.volume?.(s.muted()?0:s.volume())),n||h(),r.addEventListener("dblclick",d),e.current?.addEventListener("mousewheel",e=>{s.volume(s.volume()+(e.deltaY>0?-.1:.1))},{passive:!0}),e.current?.closest("section")?.addEventListener("keydown",({key:e,altKey:t,ctrlKey:r})=>{if(t)c[e]?z(s.videoHeight()/c[e],s.videoWidth()/c[e]):"Enter"===e&&d();else if(!r)switch(e){case" ":s.paused()?s.play():s.pause();break;case"ArrowUp":s.volume(s.volume()+.1);break;case"ArrowDown":s.volume(s.volume()-.1);break;case"ArrowLeft":s.currentTime(s.currentTime()-10);break;case"ArrowRight":s.currentTime(s.currentTime()+10)}}),R(s),i(!1),N||T(t,"peekElement",r),s.on("pause",()=>j(t,"paused",!0)),s.on("play",()=>j(t,"paused",!1))})},[u,j,F,e,y,_,t,N,T,i,C,k,z,n]),U=(0,o.useCallback)(t=>{let r=e.current?.querySelector(".vjs-control-bar");r instanceof HTMLElement&&(t===s?r.classList.add("no-interaction"):r.classList.remove("no-interaction"))},[e]),Q=(0,o.useCallback)(async()=>{if(F(!1,M),M&&n)try{let{buffer:r,...i}=await _();D.current=!1,M.poster(""),M.src(i),U(i.type),$(N?P?.videoTitle||"YouTube":(0,a.basename)(n));let[o]=e.current?.childNodes??[];if(T(t,"peekElement",N?A:o),j(t,"peekImage",""),r){let e=(0,v.uQ)(i.url);(".mp3"===e||l.Rx.has(e))&&(0,x.Hi)(i.url,r).then(e=>{if(e){let r=(0,v.Zd)(e);M.poster(r),j(t,"peekImage",r)}})}}catch{}},[j,F,A,e,_,t,N,T,U,M,$,n,P]);(0,o.useEffect)(()=>{if(r&&!M){let e=()=>{let e="function"==typeof window.videojs;return e&&O(),e};e()||(0,v.aY)(E).then(e)}return()=>{B&&(I.current?.exit?.(),H(),M?.dispose())}},[H,B,E,O,r,M]),(0,o.useEffect)(()=>{!r&&!B&&M&&n&&Q()},[B,Q,r,M,n])};var w=r(35144);let k=(0,o.memo)(({id:e})=>(0,i.jsxs)(w.A,{StyledComponent:n,id:e,useHook:y,children:[(0,i.jsx)("video",{className:"video-js vjs-big-play-centered",id:e,autoPlay:!0}),(0,i.jsx)("canvas",{id:`${e}_canvas`})]}))},34901:(e,t,r)=>{r.d(t,{Ay:()=>l,EX:()=>o,Ho:()=>i,WB:()=>n,lH:()=>a});let i={bottom:!1,bottomLeft:!1,bottomRight:!1,left:!1,right:!1,top:!1,topLeft:!1,topRight:!1},o={bottom:!0,bottomLeft:!0,bottomRight:!0,left:!0,right:!0,top:!0,topLeft:!0,topRight:!0},n=30,a=166,l={cancel:".cancel",dragHandleClassName:"handle",enableUserSelectHack:!1,minHeight:`${n}px`,minWidth:`${a}px`,resizeHandleStyles:{bottom:{bottom:"-3px",cursor:"ns-resize",height:"6px"},bottomLeft:{bottom:"-3px",cursor:"nesw-resize",height:"12px",left:"-3px",width:"12px"},bottomRight:{bottom:"-3px",cursor:"nwse-resize",height:"12px",right:"-3px",width:"12px"},left:{cursor:"ew-resize",left:"-3px",width:"6px"},right:{cursor:"ew-resize",right:"-3px",width:"6px"},top:{cursor:"ns-resize",height:"6px",top:"-3px"},topLeft:{cursor:"nwse-resize",height:"12px",left:"-3px",top:"-3px",width:"12px"},topRight:{cursor:"nesw-resize",height:"12px",right:"-3px",top:"-3px",width:"12px"}}}},35144:(e,t,r)=>{r.d(t,{A:()=>d});var i=r(37876),o=r(14232),n=r(77232),a=r(66501),l=r(78011),s=r(81855);let c=n.Ay.div.withConfig({componentId:"sc-e37924df-0"})([""]),d=(0,o.memo)(({id:e,useHook:t,StyledComponent:r,children:n})=>{let{processes:{[e]:{url:d=""}={}}}=(0,s.N)(),p=(0,o.useRef)(null),[u,g]=(0,o.useState)(!0),h=(0,o.useMemo)(()=>({contain:"strict",visibility:u?"hidden":"visible"}),[u]);return t({containerRef:p,id:e,loading:u,setLoading:g,url:d}),(0,i.jsxs)(i.Fragment,{children:[u&&(0,i.jsx)(a.A,{}),(0,i.jsx)(r||c,{ref:p,style:h,...(0,l.A)({id:e}),children:n})]})})},66501:(e,t,r)=>{r.d(t,{A:()=>i});let i=r(77232).Ay.div.withConfig({componentId:"sc-83f4cbe3-0"})(['cursor:wait;height:100%;width:100%;&::before{color:#fff;content:"Working on it...";display:flex;font-size:12px;font-weight:200;justify-content:center;letter-spacing:0.3px;mix-blend-mode:difference;padding-top:',"px;}"],({$hasColumns:e,theme:t})=>e?t.sizes.window.textTopPadding+t.sizes.fileManager.columnHeight:t.sizes.window.textTopPadding)},67718:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(77232),o=r(14232),n=r(74789),a=r(81855),l=r(55295);let s=e=>{let{setWindowStates:t}=(0,l.w)(),{processes:{[e]:{lockAspectRatio:r=!1,maximized:s=!1}={}}={}}=(0,a.N)(),{sizes:{titleBar:c}}=(0,i.DP)();return{updateWindowSize:(0,o.useCallback)((i,o)=>t(t=>({...t,[e]:{...t?.[e],maximized:s,size:(0,n.WZ)({height:i+c.height,width:o},r)}})),[e,r,s,t,c.height])}}},74789:(e,t,r)=>{r.d(t,{Gn:()=>a,Ve:()=>c,WZ:()=>d,Xc:()=>s,r_:()=>l});var i=r(34901),o=r(16361),n=r(60109);let a=(e,t,r=[],i=0)=>{let[a]=e.split(o.QB),l=`${a}${o.QB}`,s=r.find(e=>e.startsWith(l))||"",{componentWindow:c}=t?.[s]||{},{x:d=0,y:p=0,width:u=0,height:g=0}=c?.getBoundingClientRect()||{};return!(d+i+u>(0,n.e8)()||p+i+g>(0,n.Bv)())&&(d||p)?{x:d+i,y:p+i}:void 0},l=({height:e,width:t})=>{let[r,i]=[(0,n.Bv)(),(0,n.e8)()];return{x:Math.floor(i/2-(0,n.kl)(t)/2),y:Math.floor((r-o.D5)/2-(0,n.kl)(e)/2)}},s={BOTTOM:15,LEFT:150,RIGHT:50,TOP:15},c=(e,t,r=!1)=>{let{position:i,size:o}=e||{},{x:a=0,y:l=0}=i||{},{height:c=0,width:d=0}=o||{};return r?a+s.RIGHT>t.x||a+(0,n.kl)(d)-s.LEFT<0||l+s.BOTTOM>t.y||l+s.TOP<0:a<0||l<0||a+(0,n.kl)(d)>t.x||l+(0,n.kl)(c)>t.y},d=(e,t)=>{let r=Number(e.height),a=Number(e.width),[l,s]=[(0,n.Bv)(),(0,n.e8)()],c=l-o.D5,d=Math.max(i.WB,Math.min(r,c)),p=Math.max(i.lH,Math.min(a,s));if(!t)return{height:d,width:p};let u=r===d,g=a===p;return u||g?u?g?{height:d,width:p}:{height:Math.round(d/(a/p)),width:p}:{height:d,width:Math.round(p/(r/d))}:r>a?{height:d,width:Math.round(p/(c/d))}:{height:Math.round(d/(s/p)),width:p}}},78011:(e,t,r)=>{r.d(t,{A:()=>h});var i=r(79052),o=r(14232),n=r(49697),a=r(84966),l=r(54188),s=r(65231),c=r(81855),d=r(55295),p=r(16361),u=r(60109),g=r(29804);let h=({callback:e,directory:t=p.Bn,id:r,onDragLeave:h,onDragOver:b,updatePositions:m})=>{let{url:f}=(0,c.N)(),v=(0,g.w)(),{iconPositions:x,sortOrders:y,setIconPositions:w}=(0,d.w)(),{exists:k,mkdirRecursive:j,updateFolder:T,writeFile:B}=(0,s.f)(),A=(0,o.useCallback)(async(e,t,o)=>{if(r)if(t){let n=(0,i.join)(p.Bn,e);if(await j(p.Bn),await B(n,t,!0))return o===l.z.UPDATE_URL&&f(r,n),T(p.Bn,e),(0,i.basename)(n)}else o===l.z.UPDATE_URL&&f(r,e);return""},[r,j,T,f,B]),{openTransferDialog:E}=(0,n.A)();return{onDragLeave:h,onDragOver:(0,o.useCallback)(e=>{b?.(e),(0,u.CH)(e)},[b]),onDrop:(0,o.useCallback)(o=>{if(p.jj.has((0,u.uQ)(t)))return;if(o.target instanceof HTMLElement){if(o.target.closest(".focus-within")?.contains(o.target))return;if(m){let{files:e,text:r}=(0,a.bn)(o);if(0===e.length&&""===r)return;(async()=>{let n={x:o.clientX,y:o.clientY},a=[];if(r){try{a=JSON.parse(r)}catch{}if(!Array.isArray(a))return;let[e]=a;if(!e||e.startsWith(t)&&(0,i.basename)(e)===(0,i.relative)(t,e))return;a=a.map(e=>(0,i.basename)(e))}else a=e instanceof FileList?[...e].map(e=>e.name):[...e].map(e=>e.getAsFile()?.name||"").filter(Boolean);a=await (0,u.$I)(a,t,x,k),(0,u.$Y)(t,o.target,x,y,n,a,w,k)})()}}let n="string"==typeof r;n&&!m&&t===p.Bn&&v.current[r]?.componentWindow?.focus(p.VD),(0,a.nX)(o,e||A,t,E,n)},[e,t,k,x,r,E,v,w,y,m,A])}}}}]);